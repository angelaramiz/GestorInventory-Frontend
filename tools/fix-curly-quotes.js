/**
 * fix-curly-quotes.js - Reemplazar comillas tipogr√°ficas por comillas rectas
 */

import { readFileSync, writeFileSync } from 'fs';

console.log('üîß Limpiando comillas tipogr√°ficas en archivos bridge...\n');

const files = [
    './js/scanner-bridge.js',
    './js/configuraciones-bridge.js',
    './js/tabla-productos-bridge.js',
    './js/product-operations-bridge.js'
];

files.forEach(file => {
    try {
        console.log(`üìÑ Procesando: ${file}`);
        
        let content = readFileSync(file, 'utf8');
        const original = content;
        
        // Reemplazar comillas tipogr√°ficas por comillas rectas
        content = content
            .replace(/[""]/g, '"')  // U+201C y U+201D ‚Üí U+0022
            .replace(/['']/g, "'"); // U+2018 y U+2019 ‚Üí U+0027
        
        if (content !== original) {
            writeFileSync(file, content, 'utf8');
            
            const originalCount = (original.match(/[""'']/g) || []).length;
            console.log(`  ‚úÖ Corregidas ${originalCount} comillas tipogr√°ficas`);
        } else {
            console.log(`  ‚ÑπÔ∏è  Sin comillas tipogr√°ficas`);
        }
        
    } catch (error) {
        console.error(`  ‚ùå Error: ${error.message}`);
    }
});

console.log('\n‚úÖ Limpieza completada');