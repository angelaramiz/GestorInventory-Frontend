<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Test Ultra Simple</title>
</head>
<body>
    <h1>Test de Carga de Módulo Único</h1>
    <div id="output"></div>
    
    <script type="module">
        const output = document.getElementById('output');
        
        async function test() {
            output.innerHTML += '<p>🔍 Intentando cargar DatabaseService...</p>';
            
            try {
                // Test directo con URL completa
                const module = await import('http://127.0.0.1:5500/src/core/services/DatabaseService.js');
                output.innerHTML += '<p style="color: green;">✅ DatabaseService cargado!</p>';
                output.innerHTML += `<p>Exports: ${Object.keys(module).join(', ')}</p>`;
            } catch (error) {
                output.innerHTML += `<p style="color: red;">❌ Error: ${error.message}</p>`;
                output.innerHTML += `<p style="color: orange;">Stack: ${error.stack}</p>`;
                
                // Intentar fetch directo para ver qué devuelve el servidor
                try {
                    const response = await fetch('http://127.0.0.1:5500/src/core/services/DatabaseService.js');
                    const text = await response.text();
                    output.innerHTML += `<p>📄 Status: ${response.status}</p>`;
                    output.innerHTML += `<p>📄 Content-Type: ${response.headers.get('Content-Type')}</p>`;
                    output.innerHTML += `<p>📄 Primeras líneas:<br><code>${text.substring(0, 200)}</code></p>`;
                } catch (fetchError) {
                    output.innerHTML += `<p style="color: red;">❌ Fetch también falló: ${fetchError.message}</p>`;
                }
            }
        }
        
        test();
    </script>
</body>
</html>