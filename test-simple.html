<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Simple de M√≥dulos</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .log { background: #f0f0f0; padding: 10px; margin: 5px 0; border-radius: 5px; }
        .error { background: #ffebee; color: #c62828; }
        .success { background: #e8f5e8; color: #2e7d32; }
        .info { background: #e3f2fd; color: #1565c0; }
    </style>
</head>
<body>
    <h1>üß™ Test Simple de M√≥dulos</h1>
    <button onclick="testModules()">üöÄ Probar Carga de M√≥dulos</button>
    <div id="output"></div>

    <script type="module">
        let output = document.getElementById('output');
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.innerHTML = `[${new Date().toISOString()}] ${message}`;
            output.appendChild(div);
            console.log(message);
        }

        window.testModules = async function() {
            output.innerHTML = '';
            log('üöÄ Iniciando prueba simple de m√≥dulos...', 'info');
            
            // Test 1: Verificar si existe el ServiceManager
            try {
                log('üì¶ Probando carga de ServiceManager...', 'info');
                const serviceManagerModule = await import('./src/core/services/ServiceManager.js');
                log('‚úÖ ServiceManager cargado correctamente', 'success');
                log(`   ‚Ä¢ Exports disponibles: ${Object.keys(serviceManagerModule).join(', ')}`, 'info');
            } catch (error) {
                log(`‚ùå Error cargando ServiceManager: ${error.message}`, 'error');
            }
            
            // Test 2: Verificar un bridge
            try {
                log('üì¶ Probando carga de db-operations-bridge...', 'info');
                const bridgeModule = await import('./js/db-operations-bridge.js');
                log('‚úÖ Bridge cargado correctamente', 'success');
                log(`   ‚Ä¢ Exports disponibles: ${Object.keys(bridgeModule).join(', ')}`, 'info');
            } catch (error) {
                log(`‚ùå Error cargando bridge: ${error.message}`, 'error');
            }
            
            // Test 3: Verificar ruta simple
            try {
                log('üì¶ Probando carga de DatabaseService...', 'info');
                const dbService = await import('./src/core/services/DatabaseService.js');
                log('‚úÖ DatabaseService cargado correctamente', 'success');
                log(`   ‚Ä¢ Exports disponibles: ${Object.keys(dbService).join(', ')}`, 'info');
            } catch (error) {
                log(`‚ùå Error cargando DatabaseService: ${error.message}`, 'error');
            }
            
            // Test 4: Verificar que los archivos existen
            log('üìÅ Verificando existencia de archivos...', 'info');
            const files = [
                './src/core/services/ServiceManager.js',
                './js/db-operations-bridge.js',
                './src/core/services/DatabaseService.js'
            ];
            
            for (const file of files) {
                try {
                    const response = await fetch(file);
                    if (response.ok) {
                        log(`‚úÖ ${file} existe y es accesible`, 'success');
                    } else {
                        log(`‚ùå ${file} no accesible (${response.status})`, 'error');
                    }
                } catch (error) {
                    log(`‚ùå Error verificando ${file}: ${error.message}`, 'error');
                }
            }
        }
        
        log('üí° P√°gina cargada. Haga clic en "üöÄ Probar Carga de M√≥dulos" para comenzar.', 'info');
    </script>
</body>
</html>
